<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><title>奇怪的哈希 | Hellflame</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="keywords" content="basics,web,javascript,"><meta name="description" content="pleased or sad, everything dies with hellflame"><link rel="alternate" href="/atom.xml" title="Hellflame" type="application/atom+xml"><link rel="icon" href="/images/favicon.png"><link rel="apple-touch-icon" href="/images/favicon.png"><link href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.6/dist/jquery.fancybox.min.css" rel="stylesheet"><link rel="stylesheet" href="/css/base.css"><link rel="stylesheet" href="/icon/iconfont.css"><link rel="stylesheet" href="/css/github-markdown.css"><link rel="stylesheet" href="/css/highlight.css"><script src="/js/util.js"></script><script src="/js/valine.min.js"></script><link href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css" rel="stylesheet"><script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js" async></script><script src="/js/player.js"></script><link href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css" rel="stylesheet"><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/leancloud-storage@3.11.0/dist/av-min.js"></script></head><body><div id="app"><div class="header-wrap"><header><div class="site-brand"><div class="site-title"> <a href="/">Hellflame</a></div></div><nav class="site-navigation"><ul class="nav-menu"><li class="nav-item" data-path="/"> <a href="/" target="_self">首页</a></li><li class="nav-item" data-path="/archives/"> <a href="/archives/" target="_self">归档</a></li><li class="nav-item" data-path="/categories/"> <a href="/categories/" target="_self">分类</a></li><li class="nav-item" data-path="/tags/"> <a href="/tags/" target="_self">标签</a></li><li class="nav-item" data-path="/friends/"> <a href="/friends/" target="_self">友链</a></li><li class="nav-item" data-path="/about/"> <a href="/about/" target="_self">关于</a></li><li class="nav-item" data-path="https://github.com/hellflame"> <a href="https://github.com/hellflame" target="_self">Github</a></li></ul></nav><i class="iconfont icon-menu"></i></header></div><script src="/js/navigation.js"></script><div class="container post-index"><div class="post"><div style="position:fixed;right:1em;top:1.5em;cursor:pointer;z-index:999" onclick="toggleTOC()" id="toc"><div style="width:2em;height:2em"><div style="width:100%;height:3px;background:silver;margin-bottom:3px"></div><div style="width:100%;height:3px;background:silver;margin-bottom:3px"></div><div style="width:100%;height:3px;background:silver;margin-bottom:3px"></div></div></div><h1 class="article-title"> <span>奇怪的哈希</span></h1><div class="article-top-meta"> <span>发布 : 2017-08-26</span> <span>分类 : <a href="/categories/basics/">basics</a></span> <span>浏览 : <span class="article-timer">--</span></span></div><div class="article-content"><div class="markdown-body"><blockquote><p>由于偶然的需求，需要在前端网页上计算链接的散列值，但是貌似并没有原生支持的比如md5，sha-x类的散列函数，也不可能引入一个 <code>js-md5</code> 这么一个庞大的库，所以不得不<br>自己实现一个小型的散列函数。一开始的时候一切看上去都运行的不错，但是仔细检查一下之后，发现了炒鸡奇怪的问题。</p></blockquote><p>先看一下自己用 javascript 实现的哈希函数好了：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hash</span>(<span class="params">str</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> result = <span class="number">0</span>,</span><br><span class="line">        tab = [<span class="number">0x1234</span>, <span class="number">0x2345</span>, <span class="number">0x3456</span>, <span class="number">0x4567</span>, <span class="number">0x5678</span>, <span class="number">0x789a</span>, <span class="number">0x89ab</span>, <span class="number">0x9abc</span>, <span class="number">0xabcd</span>, <span class="number">0xbcde</span>, <span class="number">0xcdef</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;str.length;i++)&#123;</span><br><span class="line">      result = <span class="number">33</span> * result + str.charCodeAt(i) ^ (i &gt; <span class="number">0</span> ? str.charCodeAt(i<span class="number">-1</span>): <span class="number">66</span>) + tab[i % tab.length];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.abs(result).toString(<span class="number">16</span>)</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>以上代码来自 <a href="https://github.com/hellflame/qrcode-generator" target="_blank" rel="noopener">这个项目</a> , 具体的 <a href="https://github.com/hellflame/qrcode-generator/blob/e8a2ea5b1fc0f3a2cdadd07337328cb9e3194bdf/qrcode.js#L74" target="_blank" rel="noopener">代码片段</a> 。</p><p>运行一下这个函数可以得到看上去效果很好的散列值：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">hash(<span class="string">'hellflame'</span>) 			<span class="comment">// 1ecad345</span></span><br><span class="line">hash(<span class="string">'hellflame is fine'</span>)	<span class="comment">// 6ebdc41a</span></span><br><span class="line">hash(<span class="string">'whatever'</span>)			<span class="comment">// 1cb8a14b</span></span><br><span class="line">hash(<span class="string">'linux'</span>)				<span class="comment">// 5a7bb254</span></span><br><span class="line">hash(<span class="string">'1'</span>)					<span class="comment">// 1247</span></span><br><span class="line">hash(<span class="string">'2'</span>)					<span class="comment">// 1244</span></span><br><span class="line">hash(<span class="string">'12'</span>)					<span class="comment">// 2782f</span></span><br></pre></td></tr></table></figure><p>运行起来的效果简直不只是好，甚至出人意料，嗯，的确从来没有想到散列值最长只有 <code>8个字符</code>，也就是不多不少 <code>32 位</code> (我一开始并没有注意这个问题)。</p><p>关键的一行很明显是这个(然而也是坑最多的一行!)：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">result = <span class="number">33</span> * result + str.charCodeAt(i) ^ (i &gt; <span class="number">0</span> ? str.charCodeAt(i<span class="number">-1</span>): <span class="number">66</span>) + tab[i % tab.length];</span><br></pre></td></tr></table></figure><p>为了让每一个字符都作用到最终的散列值，把每一个位置的字符的ASCII码值再加上一个循环的查表结果作为 <code>Horner</code> 多项式的系数，杂糅结束之后取16进制结果作为最终哈希结果。为了使算法足够杂糅，这里掉进了第一个坑=。=</p><p>为了使算法足够杂糅，我计划着让当前位字符的ASCII码值跟前一位字符的ASCII码值做异或运算(第一位就跟66做异或操作)， 然后再加上一个循环的 <code>tab</code> 列表得出的与位置相关的数(这个数只要每个地方不一样就好了)。但是，那关键的一行并没有实现计划！如果要看的更清楚的话，应该加上括号。</p><p>预想中的运算时这样的：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">result = (<span class="number">33</span> * result)</span><br><span class="line">  		 + (</span><br><span class="line">  			str.charCodeAt(i) ^ (i &gt; <span class="number">0</span> ? str.charCodeAt(i<span class="number">-1</span>): <span class="number">66</span>)</span><br><span class="line">  		   )</span><br><span class="line">  	     + tab[i % tab.length]);</span><br></pre></td></tr></table></figure><p>嗯，在 <code>Python</code> 中也是很少做位运算的路过，以下是 <code>python中的运算符号优先级</code>，很明显跟记忆中是不一样好吧，位运算的符号虽然看上去很高端，但是优先级却出乎意料的低=。=(谁叫我只看加减乘除=。=)</p><table><thead><tr><th>运算符</th><th>描述</th></tr></thead><tbody><tr><td>lambda</td><td>Lambda表达式</td></tr><tr><td>or</td><td>布尔“或”</td></tr><tr><td>and</td><td>布尔“与”</td></tr><tr><td>not x</td><td>布尔“非”</td></tr><tr><td>in，not in</td><td>成员测试</td></tr><tr><td>is，is not</td><td>同一性测试</td></tr><tr><td>&lt;，&lt;=，&gt;，&gt;=，!=，==</td><td>比较</td></tr><tr><td>\</td><td>按位或</td></tr><tr><td><strong>^</strong></td><td><strong>按位异或</strong></td></tr><tr><td>&amp;</td><td>按位与</td></tr><tr><td>&lt;&lt;，&gt;&gt;</td><td>移位</td></tr><tr><td><strong>+，-</strong></td><td><strong>加法与减法</strong></td></tr><tr><td>*，/，%</td><td><strong>乘法、除法与取余</strong></td></tr><tr><td>+x，-x</td><td>正负号</td></tr><tr><td>~x</td><td>按位翻转</td></tr><tr><td>**</td><td>指数</td></tr></tbody></table><p>由于运算优先级出现问题，所以实际上这行代码的优先级是这样的：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">result = (<span class="number">33</span> * result + str.charCodeAt(i))</span><br><span class="line">		 ^ </span><br><span class="line">  		 ((i &gt; <span class="number">0</span> ? str.charCodeAt(i<span class="number">-1</span>): <span class="number">66</span>) + tab[i % tab.length]);</span><br></pre></td></tr></table></figure><p>当然，就结果而言，这样的杂糅依然达到了想要的目的。异或的结果基本上是由最长的那个数来决定的，或者说一由于两个数长短不一样，长位数超出短位数的部分不会受到异或的影响，在运算后期，主要由 <code>(i &gt; 0 ? str.charCodeAt(i-1): 66) + tab[i % tab.length]</code> 在改变着result的后几位数，result一直在以后几位字符ASCII值作为系数，幂级数增长，当前位字符的前一位字符影响越来越小(想到这里，<code>这个hash函数其实并不好</code>)，可以想象，如果字符特别长，异或运算的第二个操作数在整个杂糅中对最终值的扰动微乎其微。至于这个运算优先级的问题是怎么发现的话，就牵扯到了第二个坑。</p><p>在发现这个hash函数竟然能够无视字符串长度，无论多长，都能得到刚刚好的32位整数，我一样要在 <code>python</code> 上测试一下这个算法运算的效率怎么样，让这个函数跟语言自带的<code>hashlib</code>中的<code>md5</code>对比一下。于是按照js中的代码，实现了<code>python</code>中的同一套算法：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hash</span><span class="params">(s)</span>:</span></span><br><span class="line">    result = <span class="number">0</span></span><br><span class="line">    tab = [<span class="number">0x1234</span>, <span class="number">0x2345</span>, <span class="number">0x3456</span>, <span class="number">0x4567</span>, <span class="number">0x5678</span>, <span class="number">0x789a</span>, <span class="number">0x89ab</span>, <span class="number">0x9abc</span>, <span class="number">0xabcd</span>, <span class="number">0xbcde</span>, <span class="number">0xcdef</span>]</span><br><span class="line">    <span class="keyword">for</span> index, i <span class="keyword">in</span> enumerate(s):</span><br><span class="line">        result = <span class="number">33</span> * result + ord(i) ^ (ord(s[index - <span class="number">1</span>]) <span class="keyword">if</span> index &gt; <span class="number">0</span> <span class="keyword">else</span> <span class="number">66</span>) + tab[index % len(tab)]</span><br><span class="line">    <span class="keyword">return</span> hex(result <span class="keyword">if</span> result &gt; <span class="number">0</span> <span class="keyword">else</span> -result)</span><br></pre></td></tr></table></figure><p>嗯，优先级错了，于是同样的值计算出来跟js不一样，于是发现了第一个问题。然而事实并没有那么简单。由于优先级都记错了，python能算对才怪！也就是，通过一个错误的python，得出js什么地方有问题，这个想法本身其实就已经错的一发不可收拾了。不过由此发现了原来自己的运算优先级竟然记错了！然后静静地一想，更不对了！既然两种语言的优先级是一样的，那为什么结果会不一样，而且还有一个很明显的差距，那就是python版本中的hash结果很显然没有保持32位的长度！</p><p>然而，这样不断增加的长度才应该是预想中的状态！js一定出了什么问题，也就是这里的第二个坑的真正现身。看看python使用hash函数的结果好了：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">hash(<span class="string">'hellflame'</span>) 			<span class="comment"># 0x185be51ecad345</span></span><br><span class="line">hash(<span class="string">'hellflame is fine'</span>)	<span class="comment"># 0x1f2877256aadc8f56ebdc41aL</span></span><br><span class="line">hash(<span class="string">'whatever'</span>)			<span class="comment"># 0xbc331cb8a14b</span></span><br><span class="line">hash(<span class="string">'linux'</span>)				<span class="comment"># 0x15a7bb254</span></span><br><span class="line">hash(<span class="string">'1'</span>)					<span class="comment"># 0x1247</span></span><br><span class="line">hash(<span class="string">'2'</span>)					<span class="comment"># 0x1244</span></span><br><span class="line">hash(<span class="string">'12'</span>)					<span class="comment"># 0x2782f</span></span><br></pre></td></tr></table></figure><p>出了最后3个能够和js中计算的结果匹配外，其他的值很显然都包含js的计算结果，或者说</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python.hash(str)[-32:] == javascript.hash(str)</span><br><span class="line"><span class="comment"># 字符串的长度的话，应该是[-8:]</span></span><br></pre></td></tr></table></figure><p>很显然，js最终只保留了32位截断值。对于js的位运算，发现有很多文章在说这个截断问题。<a href="http://jerryzou.com/posts/do-you-really-want-use-bit-operators-in-JavaScript/" target="_blank" rel="noopener">为什么不要在 JavaScript 中使用位操作符？</a> ，本质上是js中的位运算会将整数转换为有符号32位整数，那么超过32位的部分就直接被砍掉了，这也就是为什么在js的hash结果中最多只有32位整数的原因了，也是在函数末尾需要使用 <code>abs</code>来调整符号的原因。</p><p>在关键的地方log出变量的值会看的更清楚，去掉不重要的地方，看看结果：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hash</span>(<span class="params">str</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> result = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;str.length;i++)&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="number">33</span> * result + str.charCodeAt(i), </span><br><span class="line">                  (i &gt; <span class="number">0</span> ? str.charCodeAt(i<span class="number">-1</span>): <span class="number">66</span>))</span><br><span class="line">      result = <span class="number">33</span> * result + str.charCodeAt(i) ^ (i &gt; <span class="number">0</span> ? str.charCodeAt(i<span class="number">-1</span>): <span class="number">66</span>)</span><br><span class="line">      </span><br><span class="line">      <span class="built_in">console</span>.log(result)</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">"======"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="built_in">Math</span>.abs(result).toString(<span class="number">16</span>))</span><br><span class="line">&#125;</span><br><span class="line">hash(<span class="string">'hellflame'</span>)</span><br></pre></td></tr></table></figure><p>执行之后得到输出：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">104 66</span><br><span class="line">42</span><br><span class="line">======</span><br><span class="line">1487 104</span><br><span class="line">1447</span><br><span class="line">======</span><br><span class="line">47859 101</span><br><span class="line">47766</span><br><span class="line">======</span><br><span class="line">1576386 108</span><br><span class="line">1576366</span><br><span class="line">======</span><br><span class="line">52020180 108</span><br><span class="line">52020152</span><br><span class="line">======</span><br><span class="line">1716665124 102</span><br><span class="line">1716665154</span><br><span class="line">======</span><br><span class="line">56649950179 108</span><br><span class="line">815375247</span><br><span class="line">======</span><br><span class="line">26907383260 97</span><br><span class="line">1137579453</span><br><span class="line">======</span><br><span class="line">37540122050 109</span><br><span class="line">-1114583633</span><br><span class="line">======</span><br><span class="line">426f3251</span><br></pre></td></tr></table></figure><p>在倒数第三行，很明显的出现了类似有符号整型溢出的现象，<code>37540122050 ^ 109 = -1114583633</code>，正确的结果应该是 <code>37540122031</code>。37540122050 算一下的话，已经超过了 2 ** 31 = 2147483648，<code>37540122050.0 / 2 ** 32 = 8.740490779746324</code>，8.7 超过了8.5，也就是最终结果大于<code>2 ** 31</code>，最终得到补码 <code>37540122050 - Math.ceil(37540122050.0 / 2 ** 32) * 2 ** 32 = -1114583614</code> ，也就是实际参与运算的是 <code>-1114583614</code>，<code>-1114583614 ^ 109 = -1114583633</code>。</p><p>另一行不容易察觉到溢出的一行在这里 <code>56649950179 ^ 108 = 815375247</code>，<code>56649950179 / 2 ** 32 = 13.189844363136217</code>，13.1 未超过 13.5， 也就是32位有符号整型中剩下的31位不会溢出，最终截断之后的值为 <code>56649950179 - Math.floor(56649950179 / 2 ** 32) * 2 ** 32 = 815375331</code>，进行异或操作之后得到 <code>815375331 ^ 108 = 815375247</code>，虽然得到的结果不是负数，但结果依然是被截断了。</p><p>最终，hash结果只剩下32位，就实际的混淆结果而言，看上去也还好，只是暂时没有测试碰撞概率以及和常见的hash函数相比的效率。应该在接下来的一段时间会稍微想想的吧。</p></div></div><div class="copy-right"><div class="markdown-body"><blockquote> 本文作者 : hellflame<br> 原文链接 : <a href="">https://hellflame.github.io/2017/08/26/wired-hash/</a><br> 版权声明 : 本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 许可协议。转载请注明出处！</blockquote></div></div><div class="social-share" style="margin-top:-2rem" data-wechat-qrcode-title="<p>微信扫一扫</p>" data-wechat-qrcode-helper="<p>微信右上角, 扫一扫分享</p>" data-sites="qzone, qq, weibo, facebook, twitter"> <span style="color:#6b7487;font-size:1.4rem">分享到:</span></div><script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js" async></script><div class="article-footer"><div class="article-meta pull-left"><span><i class="iconfont icon-06tags"></i> 标签: <span class="span--tag"><a href="/tags/web/">#web</a></span> <span class="span--tag"><a href="/tags/javascript/">#javascript</a></span></span></div><div class="article-meta pull-right"></div></div></div><aside id="sidebar"><p id="sidebar-header"></p><ol id="sidebar-toc"></ol></aside><script async>getTOC().length||$("#toc").remove()</script><nav class="post-navigation"><div class="nav-pre"><i class="iconfont icon-prev"></i> 上一篇: <a href="/2017/07/22/promise-and-concurrent/" target="_self">Promise.race 和 一种协程优化实现</a></div><div class="nav-next"> 下一篇: <a href="/2017/10/02/my-http-connector/" target="_self">我的HTTP下载库</a><i class="iconfont icon-next"></i></div></nav><a href="#comment" class="comment-anchor"></a><div class="comment-title"><i class="iconfont icon-footprint"></i> 留下足迹<i class="iconfont icon-footprint"></i></div> <a style="margin-bottom:1em;display:block;cursor:pointer" onclick="gotoComment()">点击通过issue留言</a><div id="vcomments"></div><script defer="defer">new Valine({el:"#vcomments",appId:"a",appKey:"b",notify:!1,verify:!1,avatar:"robohash",placeholder:"不填邮箱，网址, 也能收到回复哦♪(^∇^*)\n当然也不一定会回复-_-",path:getRealPath()})</script><script defer="defer">
   function gotoComment() {
    location.href = `https://github.com/hellflame/hellflame.github.io/issues/new?title=关于%0A“%E5%A5%87%E6%80%AA%E7%9A%84%E5%93%88%E5%B8%8C”&body=%23%23%23%20[原文地址](https://hellflame.github.io/2017/08/26/wired-hash/)%0A%0A%23%23%23%20想说的话(问题/支持/异议)%20%20%0A%0A${document.getElementById('veditor').value}`
   }
   document.onreadystatechange = (e) => {
     if(document.readyState === 'complete') {
      setTimeout(() => {
        const target = document.getElementsByClassName("vsubmit vbtn")[0]
        target.outerHTML = target.outerHTML
        setTimeout(() => {
          document.getElementsByClassName("vsubmit vbtn")[0].addEventListener('click', gotoComment)
          console.log("event replaced")
        }, 1000)
        document.getElementsByClassName("power txt-right")[0].innerHTML = "Once powered by Valine"
      }, 1000)
     }
   }
 </script></div><footer><p class="site-info"> 博客已萌萌哒运行<span id="time-to-now"></span><span class="my-face">(●'◡'●)ﾉ♥</span><br> Theme - <a target="_blank" href="https://github.com/dongyuanxin/theme-bmw">BMW</a> | Made With 💗 | Powered by GodBMW & hellflame<br></p></footer><script src="/js/footer.js"></script><script>updateUptime(2016,3,27)</script><div class="back-to-top hidden"><span><i class="iconfont icon-60"></i><span></span> %</span></div><script src="/js/component/back-to-top.js"></script></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" async></script><script src="/js/mathjax.js"></script><script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.6/dist/jquery.fancybox.min.js" async></script><script async src="/js/fancybox.js"></script></body></html>
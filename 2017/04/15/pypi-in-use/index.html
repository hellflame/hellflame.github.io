<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><title>Pypi 使用 | Hellflame</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="keywords" content="translations,python,"><meta name="description" content="pleased or sad, everything dies with hellflame"><link rel="alternate" href="/atom.xml" title="Hellflame" type="application/atom+xml"><link rel="icon" href="/images/favicon.png"><link rel="apple-touch-icon" href="/images/favicon.png"><link href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.6/dist/jquery.fancybox.min.css" rel="stylesheet"><link rel="stylesheet" href="/css/base.css"><link rel="stylesheet" href="/icon/iconfont.css"><link rel="stylesheet" href="/css/github-markdown.css"><link rel="stylesheet" href="/css/highlight.css"><script src="/js/util.js"></script><script src="/js/valine.min.js"></script><link href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css" rel="stylesheet"><script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js" async></script><script src="/js/player.js"></script><link href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css" rel="stylesheet"><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/leancloud-storage@3.11.0/dist/av-min.js"></script></head><body><div id="app"><div class="header-wrap"><header><div class="site-brand"><div class="site-title"> <a href="/">Hellflame</a></div></div><nav class="site-navigation"><ul class="nav-menu"><li class="nav-item" data-path="/"> <a href="/" target="_self">首页</a></li><li class="nav-item" data-path="/archives/"> <a href="/archives/" target="_self">归档</a></li><li class="nav-item" data-path="/categories/"> <a href="/categories/" target="_self">分类</a></li><li class="nav-item" data-path="/tags/"> <a href="/tags/" target="_self">标签</a></li><li class="nav-item" data-path="/friends/"> <a href="/friends/" target="_self">友链</a></li><li class="nav-item" data-path="/corner-story/"> <a href="/corner-story/" target="_self">转角杀</a></li><li class="nav-item" data-path="/about/"> <a href="/about/" target="_self">关于</a></li><li class="nav-item" data-path="https://github.com/hellflame"> <a href="https://github.com/hellflame" target="_self">Github</a></li></ul></nav><i class="iconfont icon-menu"></i></header></div><script src="/js/navigation.js"></script><div class="container post-index"><div class="post"><div style="position:fixed;right:1em;top:1.5em;cursor:pointer;z-index:999" onclick="toggleTOC()" id="toc"><div style="width:2em;height:2em"><div style="width:100%;height:3px;background:silver;margin-bottom:3px"></div><div style="width:100%;height:3px;background:silver;margin-bottom:3px"></div><div style="width:100%;height:3px;background:silver;margin-bottom:3px"></div></div></div><h1 class="article-title"> <span>Pypi 使用</span></h1><div class="article-top-meta"> <span>发布 : 2017-04-15</span> <span>分类 : <a href="/categories/translations/">translations</a></span> <span>浏览 : <span class="article-timer">--</span></span></div><div class="article-content"><div class="markdown-body"><blockquote><p>当然之前看过很多英文的技术文档了（关键人家只有英文的技术文档啊！），然而这篇是第一篇最想翻译出来的，因为当初在使用PyPi时找到的很多中文文档讲的都相当简略，当看到这篇文章之后，之前很多问题都有了结果～～～</p><p>作为第一篇翻译，不知道会查多少次字典了23333</p></blockquote><p><a href="https://tom-christie.github.io/articles/pypi/" target="_blank" rel="noopener">原文链接</a></p><hr><p>作者： 我已经出于好意的表明了实际上有一个官方的上传程序包到Pypi的指南，<a href="https://packaging.python.org/en/latest/tutorial.html" target="_blank" rel="noopener">链接在此</a>。</p><p>我是一名明尼苏达大学语言信息学实验室的研究助理，最近的一项任务变成了将一个以前学生的Python脚本变得更加通用并且将他改造成一个符合规范的Python程序包，这花了我几周时间，来让这份代码能按照我们的需求发挥作用，包括减少重复代码，验证等工作。这份代码在本地能够很好的安装。然后在两天前，我试着在Pypi上注册这个程序包，那样我们就可以通过pip来安装这个程序包了，附带着我们的分析代码。</p><p>我觉得现在已经能让它正常使用了，但讲真，这真是一个噩梦。一开始我必须从文档，留言板(包括stackexchange和google groups)，博客还有其他各种纷繁的网络抓取资源，为什么这一切都不能在某一个地方讷？最终，那些能用的东西都是来自于反复实验（<code>trial-and-error</code>）。部分问题的原因是我的程序包些许复杂了一点：它需要包含一些应该被安装在同一个目录下的数据，同时也需要编译一个独立的C文件。但实际上，那不应该算是什么大不了的事。</p><p>为了记录下整个过程以防未来我不得不面对同样的问题，并且帮助指导一下那些正着手踏上这条没有经验的道路的骚年们，我将详细的写下我的笔记并和整个世界<code>分享</code>它</p><p>我最近几年已经用Python完成了很多不同的项目了，尽管如此，我依然是一个科学家，而不是一个软件工程师，所以以下很多细节我并不是很清晰，如果以下的做法并不是最有效率的话，在此表示歉意，毕竟我只是写下一份自己几天前就想拥有的文档，希望能够对其他人有用。</p><h4 id="程序包结构"><a href="#程序包结构" class="headerlink" title="程序包结构"></a>程序包结构</h4><p>这部分对我来说一直有一些混淆，但是通过这个项目已经让我清楚了一些，你的程序包的结构应该像这样：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">YOUR-PROJECT-FOLDER</span><br><span class="line">├── CHANGES.txt (OPTIONAL)</span><br><span class="line">├── LICENSE.txt</span><br><span class="line">├── MANIFEST.in</span><br><span class="line">├── README</span><br><span class="line">├── docs (FOLDER)</span><br><span class="line">├── setup.py</span><br><span class="line">└── PACKAGENAME (FOLDER)</span><br><span class="line">    ├── __init__.py</span><br><span class="line">    ├── Makefile (OPTIONAL)</span><br><span class="line">    ├── FILE1.py</span><br><span class="line">    ├── FILE2.py</span><br><span class="line">    ├── data (FOLDER, OPTIONAL)</span><br><span class="line">    │   ├── included_data.dat</span><br><span class="line">    └── example (FOLDER)</span><br><span class="line">        └── EXAMPLE.txt</span><br></pre></td></tr></table></figure><p>这里有几个需要注意的地方：</p><ul><li>整个项目的目录名并不是很重要，并不一定要和你的程序包名一样（<em>package name</em>），对于我来说，如果这两者的名字不一样的话会更容易区分一些</li><li><code>PACKAGENAME</code>，这个目录的名字将被你用来引Python（imoprt），所以如果你的程序包叫做<code>my_awesome_package</code>，那么你的代码目录名字也必须是<code>my_awesome_package</code>。需要注意的是，Python支持者（python大神们）推荐使用没有大写字母的单名称程序包名（package name）</li></ul><p>现在来说说几个重要的文件</p><ul><li><code>CHANGES.txt</code>：（可选的）保存着程序包的版本信息等</li><li><code>LICENSE.txt</code>：你使用的用来发布程序包的许可证。如果你想要分享它并希望人们来使用它，那么你应该包含一个许可证。就我的理解来说，没有许可证信息就相当于声明<code>All Rights Reserved</code>，意味着大家不能合法的再分享你的代码。声明：我不是一个律师，我也不知道有关的各种许可证信息。（译者：个人在网上搜索到的<a href="https://www.liferay.com/zh/community/forums/-/message_boards/view_message/4775410" target="_blank" rel="noopener">关于各种License的介绍</a>）</li><li><code>MANIFEST.in</code>：当<code>setup.py</code>在为你的程序包打包的时候，它默认包含进了你程序包中的<code>*.py</code>文件，如果你想让其他文件也包含进最终打包好的<code>.tar.gz</code>文件的话，那么你就需要在<code>MANIFEST.in</code>里包含这些文件名。以下是我的这个文件的样子：</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">#documentation</span><br><span class="line">recursive-include docs/_build/html *</span><br><span class="line"></span><br><span class="line">#data used for clustering</span><br><span class="line">recursive-include vfclust/data *</span><br><span class="line"></span><br><span class="line">#phonetic representation</span><br><span class="line">include vfclust/t2p/t2p.c</span><br><span class="line">include vfclust/t2p/t2pin.tmp</span><br><span class="line">include vfclust/Makefile</span><br><span class="line"></span><br><span class="line">#example files</span><br><span class="line">include vfclust/example/EXAMPLE.*</span><br><span class="line">include vfclust/example/EXAMPLE_sem.*</span><br><span class="line"></span><br><span class="line">#Misc</span><br><span class="line">include CHANGES.txt</span><br><span class="line">include LICENSE.txt</span><br></pre></td></tr></table></figure><p>我的程序包的名字叫<code>vfclust</code>，所以我把在程序包目录下的指定目录中的用来保证程序正常运行的文件名（数据文件等）写进了这个文件。同时我也包含了<em>CHANGES.txt</em>和<em>LICENSE.txt</em>，因为我觉得他们没有默认被包含（作者在此表示不确定，不过的确默认没有包含这些文件诶），请大家注意<code>recursive-include</code>这个语法，我的书写方式，指定的所有路径也都需要包含其中</p><ul><li><code>README</code>：同样可以是<code>README.md</code>或者<code>README.rst</code>，但是格式必须要<em>rst</em>格式（reStructured Text），因为这要在Pypi上正确的显示出来。这一部分我在下面有更多的研究</li><li><code>docs</code>：（可选的）我在这里放已经格式化的文档，之后会有更多的说明</li><li><code>setup.py</code>：这是最神奇的地方，在这里你的程序包被定义，以及如何安装等。待会儿这部分在下面有更多的说明。</li><li><code>PACKAGENAME</code>：这个目录里面有你真正的程序包的代码，<em>FILE1.py</em>，<em>FILE2.py</em>等就是你程序包起作用的文件</li><li><code>__init__.py</code>这个文件来声明<code>PACKAGENAME</code>是一个Python的程序包，并且使用<code>import PACKAGENAME</code>。这个文件很重要：<code>__init__.py</code>将一个<em>满是Python脚本的目录</em>变成了一个可以被引入的程序包，这可以是一个空的文件，也可以不是，但无论这个文件里面写了什么都会在被引入时执行。如果你想在python中使用其他模块（文件），那你极有可能需要在<code>__init__.py</code>中写入<code>from PACKAGENAME import *</code></li><li><code>data</code>和<code>example</code>：这些目录可以被任意命名，或者省略。你想要和你的程序包一起被发布的数据文件都应该像这样放在程序包目录中</li></ul><h4 id="tar-gz-与-site-packages"><a href="#tar-gz-与-site-packages" class="headerlink" title=".tar.gz 与 site-packages"></a>.tar.gz 与 site-packages</h4><p>对我来说，这是我混淆最严重的来源之一。当你在打包你的程序包（之后有详细说明）的时候，<code>setup.py</code>会创建一个<code>dist/</code>目录在你的项目目录下，然后把所有程序包指定的东西（下面有更多说明）以及<code>MANIFEST.in</code>指定的文件打包到一个<code>.tar.gz</code>文件并放到这个<code>dist/</code>这个目录下，然后你可以上传这个<code>.tar.gz</code>文件到Pypi然后就可以从网上获取它了。然而，当你使用<code>pip install PACKAGENAME</code>的时候，只有<code>*.py</code>文件会被安装进<em>site-packages</em>这个目录，这意味着任何数据文件，C文件或者其他你在使用的时候想要获取的文件都必须<code>同时</code>明确的包含在<code>MANIFESET.in</code>以及<code>setup.py</code>里。就个人对这样做的理解而言，有些东西（比如格式化的文档）你可能需要包含在完整的<code>*.tar.bz</code>包文件中，但是不想放进<code>site-packages</code>。这有一些道理，但是这样宝宝依然有些不开森，因为不得不在两个地方指定需要包含的文件，<code>setuptools</code>的文档说你只需要在<code>setup.py</code>中指定特别的文件就好了，然而这对我来说并米有任何用</p><h4 id="setup-py"><a href="#setup-py" class="headerlink" title="setup.py"></a>setup.py</h4><p>这个文件就像魔法一样，这是创建和安装你的程序包的关键（KEY）所在，同时也能记录版本变化以及帮助PyPi的规范化。有两个被普遍使用的工具来创建<code>setup.py</code>文件：<code>distutils</code>和<code>setuptools</code>。网络上告诉我<code>setuptools</code>更加现代化而且解决了一些<code>distutils</code>没有解决的问题，但是我并不是很清楚是什么问题。两者的语法几乎完全一样，所以也很容易在两者之间切换。</p><p><code>setup.py</code>文件必须至少包含以下的东西。这是根据<a href="https://github.com/pypa/sampleproject/blob/master/setup.py" target="_blank" rel="noopener">这个项目</a>修改来的，我觉得这是一个有用的资源。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> setuptools <span class="keyword">import</span> setup, find_packages  <span class="comment"># Always prefer setuptools over distutils</span></span><br><span class="line"><span class="keyword">from</span> codecs <span class="keyword">import</span> open  <span class="comment"># To use a consistent encoding</span></span><br><span class="line"><span class="keyword">from</span> os <span class="keyword">import</span> path</span><br><span class="line"></span><br><span class="line">here = path.abspath(path.dirname(__file__))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Get the long description from the relevant file</span></span><br><span class="line"><span class="keyword">with</span> open(path.join(here, <span class="string">'README'</span>), encoding=<span class="string">'utf-8'</span>) <span class="keyword">as</span> f:</span><br><span class="line">    long_description = f.read()</span><br><span class="line"></span><br><span class="line">setup(</span><br><span class="line">    name=<span class="string">'sample'</span>,</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Versions should comply with PEP440.  For a discussion on single-sourcing</span></span><br><span class="line">    <span class="comment"># the version across setup.py and the project code, see</span></span><br><span class="line">    <span class="comment"># http://packaging.python.org/en/latest/tutorial.html#version</span></span><br><span class="line">    version=<span class="string">'1.2.0'</span>,</span><br><span class="line"></span><br><span class="line">    description=<span class="string">'A sample Python project'</span>,</span><br><span class="line">    long_description=long_description,  <span class="comment">#this is the</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># The project's main homepage.</span></span><br><span class="line">    url=<span class="string">'https://github.com/whatever/whatever'</span>,</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Author details</span></span><br><span class="line">    author=<span class="string">'yourname'</span>,</span><br><span class="line">    author_email=<span class="string">'your@address.com'</span>,</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Choose your license</span></span><br><span class="line">    license=<span class="string">'MIT'</span>,</span><br><span class="line"></span><br><span class="line">    <span class="comment"># See https://PyPI.python.org/PyPI?%3Aaction=list_classifiers</span></span><br><span class="line">    classifiers=[</span><br><span class="line">        <span class="comment"># How mature is this project? Common values are</span></span><br><span class="line">        <span class="comment">#   3 - Alpha</span></span><br><span class="line">        <span class="comment">#   4 - Beta</span></span><br><span class="line">        <span class="comment">#   5 - Production/Stable</span></span><br><span class="line">        <span class="string">'Development Status :: 3 - Alpha'</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Indicate who your project is intended for</span></span><br><span class="line">        <span class="string">'Intended Audience :: Developers'</span>,</span><br><span class="line">        <span class="string">'Topic :: Software Development :: Build Tools'</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Pick your license as you wish (should match "license" above)</span></span><br><span class="line">        <span class="string">'License :: OSI Approved :: MIT License'</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Specify the Python versions you support here. In particular, ensure</span></span><br><span class="line">        <span class="comment"># that you indicate whether you support Python 2, Python 3 or both.</span></span><br><span class="line">        <span class="string">'Programming Language :: Python :: 2.7'</span>,</span><br><span class="line">    ],</span><br><span class="line"></span><br><span class="line">    <span class="comment"># What does your project relate to?</span></span><br><span class="line">    keywords=<span class="string">'sample setuptools development'</span>,</span><br><span class="line"></span><br><span class="line">    packages=[<span class="string">"MY-PACKAGE"</span>],</span><br><span class="line"></span><br><span class="line">)</span><br></pre></td></tr></table></figure><p><code>setup()</code>只是一个当你在这个项目的目录中执行<code>python setup.py install</code>时候运行的一个函数，<em>安装</em>只是它能做的事情之一，你还可以执行<code>python setup.py sdist</code>来将你的程序包打包到一个<code>.tar.gz</code>文件中，执行<code>python setup.py develop</code>会告诉Python，当你在引入程序包的时候，去查看项目目录而不是<code>site-packages</code>。</p><p>接下来我将逐一说明<code>setup()</code>函数的参数和其他东西</p><ul><li><em>name</em>：这将是你的程序包的名字，在你新上传的程序包的PyPi页面上，用大大的粗体字显示的这个名字，这同时也会是你的<code>tar.gz</code>文件的根名称，他们以<code>PACKAGENAME-VERSION.tar.gz</code>的形式命名。</li><li><em>version</em>：很显然，这是版本号。注意，PyPi强制你在每一次更新上传的时候都要使用新的版本号，所以你<code>必须</code>在每次上传的时候更新这个版本号（不像git或者其他版本控制系统一样在提交的时候不用担心版本号问题）。最终我用类似<em>0.1.0.12</em>酱紫的版本号完成了我在PyPi上的程序包的调试工作。幸运的是，你可以登录到PyPi删除不想要的版本号</li><li><em>description</em>：在Pypi上简短的说明</li><li><em>long_description</em>：PyPi上你的程序包的主页上显示的东西，意味着这应该以<code>rst</code>格式进行撰写。我就用我的<em>README</em>文件就好了</li><li><em>author</em>等：用来列出作者，联系信息等</li><li><em>classifiers</em>：又来在PyPi上给你的程序包分类，这样大家就可以在浏览或者搜索的时候找到他（译者：<a href="https://pypi.python.org/pypi?%3Aaction=list_classifiers" target="_blank" rel="noopener">这是所有classifiers的清单</a>）</li><li><em>packages</em>：你发布的包可能含有不止一个程序包，也就是说，当你在安装这个程序包的时候，可能需要<code>import package1</code> 和<code>import package2</code>，可以是很多程序包，也可以是很多子包，这些都必须被列在这里，你也可以这样做：<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">packages = find_packages(exclude=[<span class="string">'build'</span>, <span class="string">'docs'</span>, <span class="string">'templates'</span>])</span><br></pre></td></tr></table></figure></li></ul><p>以上都是一些基础。接下来的几个部分将详细说明我最终使用的参数</p><h4 id="包含数据文件"><a href="#包含数据文件" class="headerlink" title="包含数据文件"></a>包含数据文件</h4><ul><li><em>package_data</em>：就像之前提到的一样，如果你想要在用pip安装任何非python脚本以供自己的包使用的时候，在这里指定它们。在这里混淆的一塌糊涂让我得出了一个结论，那就是所有被包含的数据文件必须放在程序包目录子目录中（而不是更高一级的项目目录中）。举个栗子，如果我有一个“data”和“my-package”作为“my-project-folder”的子目录，那么就在这里的<em>package_data</em>中写入“data”，然后pip就会把“data”和“my-package”都作为独立的目录安装进“site-package”这个目录。在经过了无数的修改之后，我的目录结构变得像下面这样了：</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── CHANGES.txt</span><br><span class="line">├── LICENSE.txt</span><br><span class="line">├── MANIFEST.in</span><br><span class="line">├── README</span><br><span class="line">├── docs (COLLAPSED)</span><br><span class="line">├── setup.py</span><br><span class="line">└── vfclust</span><br><span class="line">    ├── Makefile</span><br><span class="line">    ├── TextGridParser.py</span><br><span class="line">    ├── __init__.py</span><br><span class="line">    ├── data</span><br><span class="line">    │   ├── EOWL</span><br><span class="line">    │   │   ├── EOWL Version Notes.txt</span><br><span class="line">    │   │   ├── The English Open Word List.pdf</span><br><span class="line">    │   │   └── english_words.txt</span><br><span class="line">    │   ├── animals_lemmas.dat</span><br><span class="line">    │   ├── animals_names.dat</span><br><span class="line">    │   ├── animals_names_raw.dat</span><br><span class="line">    │   ├── animals_term_vector_dictionaries</span><br><span class="line">    │   │   ├── term_vectors_dict91.dat</span><br><span class="line">    │   │   └── term_vectors_dict91_cpickle.dat</span><br><span class="line">    │   ├── cmudict.0.7a.tree</span><br><span class="line">    │   ├── modified_cmudict.dat</span><br><span class="line">    │   └── t2pin.tmp</span><br><span class="line">    ├── example</span><br><span class="line">    │   ├── EXAMPLE.TextGrid</span><br><span class="line">    │   ├── EXAMPLE.csv</span><br><span class="line">    │   ├── EXAMPLE_sem.TextGrid</span><br><span class="line">    │   └── EXAMPLE_sem.csv</span><br><span class="line">    ├── t2p</span><br><span class="line">    │   ├── t2p.c</span><br><span class="line">    │   └── t2pin.tmp</span><br><span class="line">    └── vfclust.py</span><br></pre></td></tr></table></figure><p>这是最终的样子：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">include_package_data=True,</span><br><span class="line">    # relative to the vfclust directory</span><br><span class="line">    package_data=&#123;</span><br><span class="line">        &apos;vfclust&apos;:[</span><br><span class="line">             &apos;Makefile&apos;],</span><br><span class="line">        &apos;data&apos;:</span><br><span class="line">             [&apos;data/animals_lemmas.dat&apos;,</span><br><span class="line">             &apos;data/animals_names.dat&apos;,</span><br><span class="line">             &apos;data/animals_names_raw.dat&apos;,</span><br><span class="line">             &apos;data/cmudict.0.7a.tree&apos;,</span><br><span class="line">             &apos;data/modified_cmudict.dat&apos;,</span><br><span class="line">             &apos;data/animals_term_vector_dictionaries/term_vectors_dict91_cpickle.dat&apos;,</span><br><span class="line">             ],</span><br><span class="line">        &apos;data/EOWL&apos;:</span><br><span class="line">            [&apos;data/EOWL/english_words.txt&apos;,</span><br><span class="line">             &apos;data/EOWL/EOWL Version Notes.txt&apos;,</span><br><span class="line">             &apos;data/EOWL/The English Open Word List.pdf&apos;</span><br><span class="line">            ],</span><br><span class="line">        &apos;example&apos;:</span><br><span class="line">            [&apos;example/EXAMPLE.csv&apos;,</span><br><span class="line">             &apos;example/EXAMPLE.TextGrid&apos;,</span><br><span class="line">             &apos;example/EXAMPLE_sem.csv&apos;,</span><br><span class="line">             &apos;example/EXAMPLE_sem.TextGrid&apos;],</span><br><span class="line">        &apos;t2p&apos;:</span><br><span class="line">            [&apos;t2p/t2p.c&apos;,</span><br><span class="line">             &apos;t2p/t2pin.tmp&apos;</span><br><span class="line">             ],</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>依照我的看法，<code>package_data</code>是一个每个键关联着一个子目录的字典，每一个值应该是那个子目录中你想要上传的文件列表。然而实际上，我并不能在最后的安装中把一切都合适的安置好，直到我制作好程序包的所有数据子目录。如果你知道更好的方法或者更加灵活的方式来处理这个的话，请教教我～（不是在这里嘲笑我，而是真真的发邮件给我！我想知道！）。通过这个安装，以下的东西就在执行<code>pip install</code>的时候安装到了<code>site-packages</code>了：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">vfclust</span><br><span class="line">├── Makefile</span><br><span class="line">├── TextGridParser.py</span><br><span class="line">├── __init__.py</span><br><span class="line">├── data</span><br><span class="line">│   ├── EOWL</span><br><span class="line">│   │   ├── EOWL Version Notes.txt</span><br><span class="line">│   │   ├── The English Open Word List.pdf</span><br><span class="line">│   │   └── english_words.txt</span><br><span class="line">│   ├── animals_lemmas.dat</span><br><span class="line">│   ├── animals_names.dat</span><br><span class="line">│   ├── animals_names_raw.dat</span><br><span class="line">│   ├── animals_term_vector_dictionaries</span><br><span class="line">│   │   ├── term_vectors_dict91.dat</span><br><span class="line">│   │   └── term_vectors_dict91_cpickle.dat</span><br><span class="line">│   ├── cmudict.0.7a.tree</span><br><span class="line">│   ├── modified_cmudict.dat</span><br><span class="line">│   └── t2pin.tmp</span><br><span class="line">├── example</span><br><span class="line">│   ├── EXAMPLE.TextGrid</span><br><span class="line">│   ├── EXAMPLE.csv</span><br><span class="line">│   ├── EXAMPLE_sem.TextGrid</span><br><span class="line">│   └── EXAMPLE_sem.csv</span><br><span class="line">└── t2p</span><br><span class="line">    ├── t2p</span><br><span class="line">    ├── t2p.c</span><br><span class="line">    └── t2pin.tmp</span><br></pre></td></tr></table></figure><p>这也是我所期望的。<code>data_files</code>是另一个用来包含数据的参数，但是会把你的数据文件放到<code>/Library/Frameworks/Python.framework/Versions/2.7/my-subfolder</code>（译者：看来作者用的是Mac OS！！！）至少在我的系统上是这样，我不知道为什么你想要把数据文件放到那里，无论如何我是不会这么做的</p><h4 id="像脚本一样运行你的程序包"><a href="#像脚本一样运行你的程序包" class="headerlink" title="像脚本一样运行你的程序包"></a>像脚本一样运行你的程序包</h4><p>如果你的程序有像终端脚本一样跑起来的必要而不是（或不只是）变成可引入的程序包的话，你可以要求<code>setup.py</code>在安装过程中添加你的脚本到系统路径中。这样的话，你需要使用<code>entry_points</code>这样的参数，类似酱紫：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">entry_points=&#123;</span><br><span class="line">       &apos;console_scripts&apos;: [</span><br><span class="line">           &apos;vfclust = vfclust.vfclust:main&apos;,</span><br><span class="line">       ],</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>如果我理解正确的话，下面左边的那个东西是你们从命令行调用的标志，<br></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vfclust args-go-here</span><br></pre></td></tr></table></figure><p></p><p>然后右边的东西是关联的python脚本。对我来说，我的<code>vfclust.py</code>文件里有一个“main()”方法</p><h4 id="编译文件"><a href="#编译文件" class="headerlink" title="编译文件"></a>编译文件</h4><p>我的程序包的一个功能是依赖于一个编译的C文件来将文字从文本转换成语音形式。这并不是一个Python的扩展，而是一个完整而独立的C文件，我想从命令行调用这个文件，我想要在用pip安装的时候编译这个文件，所以它必须在当前主机上正确的编译。的确有方法用Python的扩展插件来做这个，但是这个文件实际上并不是一个扩展，让这一过程生效些许复杂了一点。</p><p>本质上，我从一个网站（这个网站的这篇文章已经不在了）得到了建议然后写了一个新的类，这个类通过使用<em>subprocess</em>来调用“make”，当我做好之后，就像下面这样：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> os <span class="keyword">import</span> path</span><br><span class="line"><span class="keyword">import</span> subprocess</span><br><span class="line"><span class="keyword">from</span> setuptools.command.install <span class="keyword">import</span> install</span><br><span class="line">here = path.abspath(path.dirname(__file__))</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyInstall</span><span class="params">(install)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="comment"># note cwd - this makes the current directory</span></span><br><span class="line">            <span class="comment"># the one with the Makefile.</span></span><br><span class="line">            subprocess.call([<span class="string">'make'</span>],cwd=path.join(here,<span class="string">'vfclust'</span>))</span><br><span class="line">        <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">            <span class="keyword">print</span> e</span><br><span class="line">            <span class="keyword">print</span> <span class="string">"Error compiling t2p.c.   Try running 'make'."</span></span><br><span class="line">            exit(<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            install.run(self)</span><br></pre></td></tr></table></figure><p>同时在<code>setup()</code>里用一个关联的接口：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cmdclass=&#123;&apos;install&apos;: MyInstall&#125;,</span><br></pre></td></tr></table></figure><p></p><p>有一些事情需要注意一下。首先，<code>cmdclass={&#39;install&#39;: MyInstall}</code>告诉<code>setup()</code>来运行这段代码，不是很确定这是怎么实现的；其次，<code>subprocess.call([&#39;make&#39;],cwd=path.join(here,&#39;vfclust&#39;))</code>有一些技巧：为了正确的运行<code>make</code>，我不得不用<code>subprocess</code>从它所在的目录运行。他在一个和<code>setup.py</code>不一样的目录里，所以我想要指定子目录（叫<code>vfclust</code>），<code>here = path.abspath(path.dirname(__file__))</code>给出了<code>setup.py</code>在系统中的位置，然后<code>path.join(here,&#39;vfclust&#39;)</code>创建子目录的绝对路径</p><h4 id="完成-setup-py"><a href="#完成-setup-py" class="headerlink" title="完成 setup.py"></a>完成 setup.py</h4><p>最终，一个真的很长很长的<code>setup.py</code>文件长得像这样，再一次使用<a href="https://github.com/pypa/sampleproject/blob/master/setup.py" target="_blank" rel="noopener">这个</a>的修改版本:<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> setuptools <span class="keyword">import</span> setup, find_packages  <span class="comment"># Always prefer setuptools over distutils</span></span><br><span class="line"><span class="keyword">from</span> codecs <span class="keyword">import</span> open  <span class="comment"># To use a consistent encoding</span></span><br><span class="line"><span class="keyword">from</span> os <span class="keyword">import</span> path</span><br><span class="line"><span class="keyword">import</span> subprocess</span><br><span class="line"><span class="keyword">from</span> setuptools.command.install <span class="keyword">import</span> install</span><br><span class="line"></span><br><span class="line">here = path.abspath(path.dirname(__file__))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Get the long description from the relevant file</span></span><br><span class="line"><span class="keyword">with</span> open(path.join(here, <span class="string">'README'</span>), encoding=<span class="string">'utf-8'</span>) <span class="keyword">as</span> f:</span><br><span class="line">    long_description = f.read()</span><br><span class="line"></span><br><span class="line"><span class="comment">#see http://www.niteoweb.com/blog/setuptools-run-custom-code-during-install</span></span><br><span class="line"><span class="comment">#This is so we can call "make" automatically during setup</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyInstall</span><span class="params">(install)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            subprocess.call([<span class="string">'make'</span>],cwd=path.join(here,<span class="string">'vfclust'</span>))</span><br><span class="line">        <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">            <span class="keyword">print</span> e</span><br><span class="line">            <span class="keyword">print</span> <span class="string">"Error compiling t2p.c.   Try running 'make'."</span></span><br><span class="line">            exit(<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            install.run(self)</span><br><span class="line"></span><br><span class="line">setup(</span><br><span class="line">    name=<span class="string">'VFClust'</span>,</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Versions should comply with PEP440.  For a discussion on single-sourcing</span></span><br><span class="line">    <span class="comment"># the version across setup.py and the project code, see</span></span><br><span class="line">    <span class="comment"># http://packaging.python.org/en/latest/tutorial.html#version</span></span><br><span class="line">    version=<span class="string">'0.1.0'</span>,</span><br><span class="line"></span><br><span class="line">    description=<span class="string">'Clustering of Verbal Fluency responses.'</span>,</span><br><span class="line">    long_description=long_description,</span><br><span class="line"></span><br><span class="line">    <span class="comment"># The project's main homepage.</span></span><br><span class="line">    url=<span class="string">'https://github.com/speechinformaticslab/vfclust'</span>,</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Author details</span></span><br><span class="line">    author=<span class="string">'Thomas Christie, James Ryan, Kyle Marek-Spartz and Serguei Pakhomov'</span>,</span><br><span class="line">    author_email=<span class="string">'tchristie@umn.edu'</span>,</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Choose your license</span></span><br><span class="line">    license=<span class="string">'Apache License, Version 2.0'</span>,</span><br><span class="line"></span><br><span class="line">    <span class="comment"># See https://PyPI.python.org/PyPI?%3Aaction=list_classifiers</span></span><br><span class="line">    classifiers=[</span><br><span class="line">        <span class="comment"># How mature is this project? Common values are</span></span><br><span class="line">        <span class="comment">#   3 - Alpha</span></span><br><span class="line">        <span class="comment">#   4 - Beta</span></span><br><span class="line">        <span class="comment">#   5 - Production/Stable</span></span><br><span class="line">        <span class="string">'Development Status :: 3 - Alpha'</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Indicate who your project is intended for</span></span><br><span class="line">        <span class="string">"Intended Audience :: Developers"</span>,</span><br><span class="line">        <span class="string">"Intended Audience :: Healthcare Industry"</span>,</span><br><span class="line">        <span class="string">"Intended Audience :: Science/Research"</span>,</span><br><span class="line">        <span class="string">"Topic :: Multimedia :: Sound/Audio :: Speech"</span>,</span><br><span class="line">        <span class="string">"Topic :: Scientific/Engineering :: Bio-Informatics"</span>,</span><br><span class="line">        <span class="string">"Topic :: Scientific/Engineering :: Medical Science Apps."</span>,</span><br><span class="line">        <span class="string">"Topic :: Software Development :: Libraries"</span>,</span><br><span class="line">        <span class="string">"Topic :: Text Processing :: Linguistic"</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Pick your license as you wish (should match "license" above)</span></span><br><span class="line">        <span class="string">"License :: OSI Approved :: Apache Software License"</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Specify the Python versions you support here. In particular, ensure</span></span><br><span class="line">        <span class="comment"># that you indicate whether you support Python 2, Python 3 or both.</span></span><br><span class="line">        <span class="string">'Programming Language :: Python :: 2.7'</span>,</span><br><span class="line">        <span class="string">'Programming Language :: C'</span></span><br><span class="line">    ],</span><br><span class="line"></span><br><span class="line">    <span class="comment"># What does your project relate to?</span></span><br><span class="line">    keywords=<span class="string">'bioinformatics speech linguistics'</span>,</span><br><span class="line"></span><br><span class="line">    <span class="comment"># You can just specify the packages manually here if your project is</span></span><br><span class="line">    <span class="comment"># simple. Or you can use find_packages().</span></span><br><span class="line">    packages = find_packages(exclude=[<span class="string">'build'</span>, <span class="string">'_docs'</span>, <span class="string">'templates'</span>]),</span><br><span class="line">    <span class="comment">#package_dir=&#123;'vfclust': 'vfclust'&#125;,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># List run-time dependencies here.  These will be installed by pip when your</span></span><br><span class="line">    <span class="comment"># project is installed. For an analysis of "install_requires" vs pip's</span></span><br><span class="line">    <span class="comment"># requirements files see:</span></span><br><span class="line">    <span class="comment"># https://packaging.python.org/en/latest/technical.html#install-requires-vs-requirements-files</span></span><br><span class="line">    <span class="comment">#install_requires=['NLTK'],</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># If there are data files included in your packages that need to be</span></span><br><span class="line">    <span class="comment"># installed in site-packages, specify them here.  If using Python 2.6 or less, then these</span></span><br><span class="line">    <span class="comment"># have to be included in MANIFEST.in as well.</span></span><br><span class="line">    include_package_data=<span class="keyword">True</span>,</span><br><span class="line">    <span class="comment"># relative to the vfclust directory</span></span><br><span class="line">    package_data=&#123;</span><br><span class="line">        <span class="string">'vfclust'</span>:[</span><br><span class="line">             <span class="string">'Makefile'</span>],</span><br><span class="line">        <span class="string">'data'</span>:</span><br><span class="line">             [<span class="string">'data/animals_lemmas.dat'</span>,</span><br><span class="line">             <span class="string">'data/animals_names.dat'</span>,</span><br><span class="line">             <span class="string">'data/animals_names_raw.dat'</span>,</span><br><span class="line">             <span class="string">'data/cmudict.0.7a.tree'</span>,</span><br><span class="line">             <span class="string">'data/modified_cmudict.dat'</span>,</span><br><span class="line">             <span class="string">'data/animals_term_vector_dictionaries/term_vectors_dict91_cpickle.dat'</span>,</span><br><span class="line">             ],</span><br><span class="line">        <span class="string">'data/EOWL'</span>:</span><br><span class="line">            [<span class="string">'data/EOWL/english_words.txt'</span>,</span><br><span class="line">             <span class="string">'data/EOWL/EOWL Version Notes.txt'</span>,</span><br><span class="line">             <span class="string">'data/EOWL/The English Open Word List.pdf'</span></span><br><span class="line">            ],</span><br><span class="line">        <span class="string">'example'</span>:</span><br><span class="line">            [<span class="string">'example/EXAMPLE.csv'</span>,</span><br><span class="line">             <span class="string">'example/EXAMPLE.TextGrid'</span>,</span><br><span class="line">             <span class="string">'example/EXAMPLE_sem.csv'</span>,</span><br><span class="line">             <span class="string">'example/EXAMPLE_sem.TextGrid'</span>],</span><br><span class="line">        <span class="string">'t2p'</span>:</span><br><span class="line">            [<span class="string">'t2p/t2p.c'</span>,</span><br><span class="line">             <span class="string">'t2p/t2pin.tmp'</span></span><br><span class="line">             ],</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="comment">#run custom code</span></span><br><span class="line">    cmdclass=&#123;<span class="string">'install'</span>: MyInstall&#125;,</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Although 'package_data' is the preferred approach, in some case you may</span></span><br><span class="line">    <span class="comment"># need to place data files outside of your packages.</span></span><br><span class="line">    <span class="comment"># see http://_docs.python.org/3.4/distutils/setupscript.html#installing-additional-files</span></span><br><span class="line">    <span class="comment"># In this case, 'data_file' will be installed into '&lt;sys.prefix&gt;/my_data'</span></span><br><span class="line">    <span class="comment"># data_files=[</span></span><br><span class="line">    <span class="comment">#     ('my_data',['data_file']),</span></span><br><span class="line">    <span class="comment"># ],</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># To provide executable scripts, use entry points in preference to the</span></span><br><span class="line">    <span class="comment"># "scripts" keyword. Entry points provide cross-platform support and allow</span></span><br><span class="line">    <span class="comment"># pip to create the appropriate form of executable for the target platform.</span></span><br><span class="line">    entry_points=&#123;</span><br><span class="line">       <span class="string">'console_scripts'</span>: [</span><br><span class="line">           <span class="string">'vfclust = vfclust.vfclust:main'</span>,</span><br><span class="line">       ],</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">)</span><br></pre></td></tr></table></figure><p></p><h4 id="文档"><a href="#文档" class="headerlink" title="文档"></a>文档</h4><p>有很多现存的复杂的工具帮助你撰写代码文档，但不幸的是，他们的复杂性意味着学习怎样使用他们会让没有经验的骚年们的头疼不已。这里有一些我的艰难学习过程的经验教训。</p><h5 id="Readme"><a href="#Readme" class="headerlink" title="Readme"></a>Readme</h5><p>只有当你的README文件以<a href="http://en.wikipedia.org/wiki/ReStructuredText" target="_blank" rel="noopener"><code>reStructuredText</code></a>格式进行撰写时，你的程序包的PyPi页面才会正确的显示出你的README文件，而不是<code>Markdown</code>格式。然而我会选择markdown格式来书写这个文件，这样它会在github上正确的显示出来，叫我懒人。幸运的是，有一个方便的Python包可以进行自动格式转换</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pypandoc</span><br></pre></td></tr></table></figure><p>然后在终端中切换到你的README文件所在目录，运行python，这么做：<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pypandoc</span><br><span class="line"></span><br><span class="line"><span class="comment">#converts markdown to reStructured</span></span><br><span class="line">z = pypandoc.convert(<span class="string">'README'</span>,<span class="string">'rst'</span>,format=<span class="string">'markdown'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#writes converted file</span></span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'README.rst'</span>,<span class="string">'w'</span>) <span class="keyword">as</span> outfile:</span><br><span class="line">    outfile.write(z)</span><br></pre></td></tr></table></figure><p></p><p>如果你的文档是有效的markdown格式的话，你现在应该有一个reStructured版本的README文件存在于你的项目目录了。</p><h5 id="Docstrings"><a href="#Docstrings" class="headerlink" title="Docstrings"></a>Docstrings</h5><p>为你python代码中的函数和方法写一个冗长的文档是很普遍的，这样别人就可以阅读并且帮助改善你的代码。这种文档叫做“docstrings”（注释），他们是在一个函数或者方法声明之后的一行或者多行字符串</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_function</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">''' This is my docstring.'''</span></span><br></pre></td></tr></table></figure><p>这对于阅读代码的人来说是很方便的。然而，如果你的注释是以reStructured格式的话，你可以用一个叫做<a href="http://sphinx-doc.org/" target="_blank" rel="noopener">“Sphinx”</a>的工具来自动生成<em>HTML/PDF/epub</em>版本的文档，这些文档同时包含了README文件的内容和代码注释，而且格式优美，容易阅读</p><p>虽然可以包含测试代码和其他复杂的注释，但是简单的版本就像这样：<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">compute_similarity_score</span><span class="params">(self, word1, word2)</span>:</span></span><br><span class="line">    <span class="string">""" Returns the similarity score between two words.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        :param str word1: First word to be compared.</span></span><br><span class="line"><span class="string">        :param str word2: Second word to be compared.</span></span><br><span class="line"><span class="string">        :return: Number indicating degree of similarity of the two input words.</span></span><br><span class="line"><span class="string">            The maximum value is 1, and a higher value indicates that the words</span></span><br><span class="line"><span class="string">            are more similar.</span></span><br><span class="line"><span class="string">        :rtype : Float</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        Longer description of the function, how it works, etc.</span></span><br><span class="line"><span class="string">    """</span></span><br></pre></td></tr></table></figure><p></p><p>这可能比需要的更加冗余了（PEP指南建议不应该在你的注释中这样做），但是我就像这样放在那里来表明代码的目的。还有一些值得注意的地方：</p><ul><li>注释用的是三引号，直接跟在函数的声明后面</li><li>最后一行的三引号没有其他任何文本了</li><li><code>:param TYPE VARIABLE:</code>是reStructured的语法格式用来声明你的输入/输入变量，你可以读到更多，在<a href="http://sphinx-doc.org/domains.html#info-field-lists" target="_blank" rel="noopener">这里</a></li></ul><p><code>rst</code>文本可以变得相当复杂而且可以从很多方面影响你的代码。我只是停留在最基本而且必要的姿势来为我的小项目制作合理的文档</p><h4 id="HTML-文档"><a href="#HTML-文档" class="headerlink" title="HTML 文档"></a>HTML 文档</h4><p>迄今为止，我们已经有了README以及<code>*.py</code>文件。由于我们用rst格式撰写README以及注释，我们现在可以创建一个”HTML/PDF“格式的文档了，使用一款叫做<a href="http://sphinx-doc.org/" target="_blank" rel="noopener">Sphinx</a>的软件。我发现Sphinx非常之复杂，但是这里有一些基本的操作来让你起步（至少使用类unix系统，也就是说windows用户请绕行）</p><h5 id="安装-Sphinx"><a href="#安装-Sphinx" class="headerlink" title="安装 Sphinx"></a>安装 Sphinx</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ easy_install -U sphinx</span><br></pre></td></tr></table></figure><h5 id="为文档创建一个目录"><a href="#为文档创建一个目录" class="headerlink" title="为文档创建一个目录"></a>为文档创建一个目录</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir docs</span><br><span class="line">$ <span class="built_in">cd</span> docs</span><br></pre></td></tr></table></figure><h5 id="运行-Sphinx"><a href="#运行-Sphinx" class="headerlink" title="运行 Sphinx"></a>运行 Sphinx</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sphinx-quickstart</span><br></pre></td></tr></table></figure><p>你已经在 <em>docs/</em>目录下，所以第一个选项就使用默认参数，在接下来的几个选项中填写自己的名字，项目名称等等，除了一项选项外，其他都使用了默认值</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">autodoc: automatically insert docstrings from modules (y/n) [n]: y</span><br></pre></td></tr></table></figure><p>选择<code>y</code>，让 Sphinx从你的注释中抓取信息，就像上面承诺的一样，然后让他变成一个小巧易读的HTML文档或者什么～～</p><p>Sphinx在这个<em>docs/</em>创建了一个<code>Makefile</code>目录，这个目录用于生成你的文档，你可以输入<code>make html</code>或者<code>make latexpdf</code>来生成文档。如果你像我说的那样操作的话，你的文档会是空白的。看来你也是懒鬼！</p><h5 id="让Sphinx从你的注释中生成文档"><a href="#让Sphinx从你的注释中生成文档" class="headerlink" title="让Sphinx从你的注释中生成文档"></a>让Sphinx从你的注释中生成文档</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sphinx-apidoc -o &lt;dest-directory&gt; &lt;<span class="built_in">source</span>-directory&gt;</span><br></pre></td></tr></table></figure><p>你应该已经在你的<em>docs/</em>目录下了，我的<em>docs/</em>目录是和我包含注释的程序包的目录在同一级别，于是我这样操作了：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sphinx-apidoc -o . ../vfclust</span><br></pre></td></tr></table></figure><h5 id="最后，编辑这个新的-index-rst文件从"><a href="#最后，编辑这个新的-index-rst文件从" class="headerlink" title="最后，编辑这个新的 index.rst文件从"></a>最后，编辑这个新的 index.rst文件从</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Welcome to VFClust&apos;s documentation!</span><br><span class="line">===================================</span><br><span class="line"></span><br><span class="line">Contents:</span><br><span class="line"></span><br><span class="line">.. toctree::</span><br><span class="line">   :maxdepth: 2</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Indices and tables</span><br><span class="line">==================</span><br><span class="line"></span><br><span class="line">* :ref:`genindex`</span><br><span class="line">* :ref:`modindex`</span><br><span class="line">* :ref:`search`</span><br></pre></td></tr></table></figure><p>变成<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Welcome to VFClust&apos;s documentation!</span><br><span class="line">===================================</span><br><span class="line"></span><br><span class="line">.. include:: ../README</span><br><span class="line"></span><br><span class="line">Contents:</span><br><span class="line"></span><br><span class="line">.. toctree::</span><br><span class="line">   :maxdepth: 2</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Indices and tables</span><br><span class="line">==================</span><br><span class="line"></span><br><span class="line">* :ref:`genindex`</span><br><span class="line">* :ref:`modindex`</span><br><span class="line">* :ref:`search`</span><br></pre></td></tr></table></figure><p></p><p>你的项目名称会和我的不一样，但是重要的部分是<code>.. include:: ../README</code>这一行，假设你的 <em>README</em> 文件位于项目根目录，这将会把你的 README 作为你的文档的主页，你可以点击”index“、”Moduel Index“或者”search“链接来查看文档里为你生成的函数和方法</p><h5 id="生成文档，Finally！"><a href="#生成文档，Finally！" class="headerlink" title="生成文档，Finally！"></a>生成文档，Finally！</h5><p>使用<br></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ make</span><br></pre></td></tr></table></figure><p></p><p>来查看可选项，创建HTML格式的文档使用：<br></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ make html</span><br></pre></td></tr></table></figure><p></p><p>这将在”docs/_build/html/“目录中生成一套HTML文件，这里假设你没有改变”_build“这个默认值。打开”docs/_build/html/index.html“来查看你的新文档</p><h4 id="PyPi"><a href="#PyPi" class="headerlink" title="PyPi"></a>PyPi</h4><p>好吧。程序包已经有了正确的目录结构，文档已经格式化，我们也已经准备好和全世界分享他了，这样任何人都可以用<code>pip install mypackage</code>来安装他了</p><h5 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h5><p>切换到你的<code>setup.py</code>所在目录，首先，确认一切已经正确的配置了：<br></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python setup.py <span class="built_in">test</span></span><br></pre></td></tr></table></figure><p></p><p>希望你没有任何错误</p><p>然后，创建你准备发布到PyPi的发布版本：<br></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python setup.py sdist</span><br></pre></td></tr></table></figure><p></p><p>这将创建一个<code>tar.gz</code>的源文件的打包，同时也会创建一个新的子目录<code>dist/</code>，然后把你的这个<code>tar.gz</code>文件放在其中。你需要检查这个打包文件的内容，因为这将是从Pypi能够下载下来的打包文件</p><h5 id="在PyPi注册"><a href="#在PyPi注册" class="headerlink" title="在PyPi注册"></a>在PyPi注册</h5><p>你可以用命令行来完成这一步，你也可以到 <a href="https://pypi.python.org/pypi" target="_blank" rel="noopener">https://pypi.python.org/pypi</a>创建自己的账户。当你在其中时，在<a href="https://testpypi.python.org/pypi" target="_blank" rel="noopener">https://testpypi.python.org/pypi</a>也创建一个账户，我们将用第二个网站进行测试，这是可选项，但是考虑到我在用pip时候遇到的问题，这是必要的，我个人也推荐这样</p><p>用你最喜欢的文本编辑器创建一个新的 ～/.pypirc文件（这个文件是由setup.py自动创建的），让他看起来更像下面这样：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[distutils]</span><br><span class="line">index-servers =</span><br><span class="line">    pypi</span><br><span class="line">    test</span><br><span class="line"></span><br><span class="line">[pypi]</span><br><span class="line">username:yourname</span><br><span class="line">password:yourpassword</span><br><span class="line"></span><br><span class="line">[test]</span><br><span class="line">repository:https://testpypi.python.org/pypi</span><br><span class="line">username:yourname</span><br><span class="line">password:yourpassword</span><br></pre></td></tr></table></figure><p></p><p>你应该添加一个测试的软件仓库入口来进行测试。现在用PyPi注册你的程序包，确认你在自己项目的根目录，也就是和<code>setup.py</code>同级的目录：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ python setup.py register</span><br><span class="line">$ python setup.py register -r https://testpypi.python.org/pypi</span><br></pre></td></tr></table></figure><p>这将发送你的程序包的元数据到PyPi</p><h5 id="安装-twine"><a href="#安装-twine" class="headerlink" title="安装 twine"></a>安装 twine</h5><p>当你上传自己的程序包到PyPi时，你的登录信息是明文发送的，这样不太好，为了解决这个问题，安装twine<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pip install twine</span><br></pre></td></tr></table></figure><p></p><h5 id="创建测试上传"><a href="#创建测试上传" class="headerlink" title="创建测试上传"></a>创建测试上传</h5><p>一共分两步：一、用<code>sdist</code>参数打包；二、上传这个文件到这个服务器</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ python setup.py sdist <span class="comment">#creates .tar.gz, puts it in dist/ folder</span></span><br><span class="line">$ twine upload -r <span class="built_in">test</span> dist/PACKAGENAME-VERSION.tar.gz</span><br></pre></td></tr></table></figure><p><code>-r test</code>参数将把这份打包的文件上传到之前的<code>.pypirc</code>文件中的<code>[test]</code>部分中指定的服务器</p><h5 id="创建测试安装"><a href="#创建测试安装" class="headerlink" title="创建测试安装"></a>创建测试安装</h5><p>Python有一种简洁的用来生成沙盒环境的方式，叫做<em>虚拟环境</em>（virtual environments）。我建议创建一个新的环境来测试你的安装，从而保证是一次全新安装</p><p>切换到其他某个目录下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ virtualenv MY_VIRTUALENV</span><br></pre></td></tr></table></figure><p>很明显你可以用其他名字，而不是<em>MY_VIRTUALENV</em>，然后激活这个环境：<br></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> MY_VIRTUALENV</span><br><span class="line">$ <span class="built_in">source</span> bin/activate</span><br></pre></td></tr></table></figure><p></p><p>现在你已经在一个小型的Python沙盒安装环境中了，从PyPi测试服务器上安装你的程序包好了：<br></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pip install -i https://testpypi.python.org/pypi PACKAGENAME</span><br></pre></td></tr></table></figure><p></p><p>你可能需要使用<code>sudo</code>，我不知道为什么。（译者：不应该使用sudo，如果出现权限问题，说明你在创建虚拟环境的时候使用了超级权限，因为install的时候写入了一个没有权限的虚拟环境目录）</p><p>无论如何，你的程序包应该已经被安装好了，测试一下捏～<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; import PACKAGENAME</span><br></pre></td></tr></table></figure><p></p><p>如果你像在<code>setup.py</code>里面设置的那样引入的话，上面那句话应该不会报错</p><h5 id="来真的了"><a href="#来真的了" class="headerlink" title="来真的了"></a>来真的了</h5><p>如果一切看上去都能正常工作了的话（如果真的是这样的话，祝贺你，我花了两天才做到这一步……），你可以把他上传到PyPi的服务器了：<br></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ twine upload dist/PACKAGENAME-VERSION.tar.gz</span><br></pre></td></tr></table></figure><p></p><p>喏～你成功了！现在你可以到<a href="https://pypi.python.org.pypi/" target="_blank" rel="noopener">https://pypi.python.org.pypi/</a>搜索你的程序包了（译者：一般情况下，如果你刚上传的话，你的package会在首页就可以找到），你也应该可以用一下命令来安装他了：<br></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pip install PACKAGENAME</span><br></pre></td></tr></table></figure><p></p><p>看到了没～～并不是那么难不是么～～（想象作者笑的样子23333）.</p><p>我希望这能帮到一些人（译者：对我来说的确帮到了不少）</p><hr><p>以上就是所有翻译内容了，文章翻译花费了接近6小时，如果要不是中途在图书馆忘了带电源，又忘了关注电量，笔记本自动关机，导致回寝室的时间和开机后桌面崩溃问题困扰了我接近20分钟（好吧，好像实际上只有10分钟的样子），可能可以在12点之前完成的说23333。。。。不过还好的是，没有中途睡着（毕竟又不是乏味的文章），毕竟感觉又把整个过程认真的过了一遍，又有了新的收获吧～～～虽然我还是推荐骚年们去看原文好了～～虽然这篇文章也是我迄今为止的年度翻译大作2333</p><p>当然翻译这篇文章也算是心血来潮，现在markdown编辑器里面显示已经接近2w的字符了，好吧，原作者的代码一定占了很多233333，原文章发布于2014年6月26，现在完成个人翻译（至少我在网上没有搜到有谁翻译这篇文章，就算已经有了我也不觉的我有什么损失），翻译过程又重温了很多细节，曾经懒得翻词典（another bummer！），感觉请女王大人来帮我校对是不是有点残忍了。。。。（她可是一个文科僧啊！！）</p><p>好吧～某种程度上也是不想让自己的博客被别人看做求职的资本之一，我会的东西并没有全部写在博客上，我会的东西已经在某几台服务器上运行着了吧！</p><p>I will just do what I liked（我已经想好了这句话的日语翻译了！虽然我是不可能当日语翻译了233333）</p></div></div><div class="copy-right"><div class="markdown-body"><blockquote> 本文作者 : hellflame<br> 原文链接 : <a href="">https://hellflame.github.io/2017/04/15/pypi-in-use/</a><br> 版权声明 : 本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 许可协议。转载请注明出处！</blockquote></div></div><div class="social-share" style="margin-top:-2rem" data-wechat-qrcode-title="<p>微信扫一扫</p>" data-wechat-qrcode-helper="<p>微信右上角, 扫一扫分享</p>" data-sites="qzone, qq, weibo, facebook, twitter"> <span style="color:#6b7487;font-size:1.4rem">分享到:</span></div><script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js" async></script><div class="article-footer"><div class="article-meta pull-left"><span><i class="iconfont icon-06tags"></i> 标签: <span class="span--tag"><a href="/tags/python/">#python</a></span></span></div><div class="article-meta pull-right"></div></div></div><aside id="sidebar"><p id="sidebar-header"></p><ol id="sidebar-toc"></ol></aside><script async>getTOC().length||$("#toc").remove()</script><nav class="post-navigation"><div class="nav-pre"><i class="iconfont icon-prev"></i> 上一篇: <a href="/2017/04/15/blog-renew/" target="_self">网站更新</a></div><div class="nav-next"> 下一篇: <a href="/2017/04/15/about-https/" target="_self">关于 HTTPS</a><i class="iconfont icon-next"></i></div></nav><a href="#comment" class="comment-anchor"></a><div class="comment-title"><i class="iconfont icon-footprint"></i> 留下足迹<i class="iconfont icon-footprint"></i></div> <a style="margin-bottom:1em;display:block;cursor:pointer" onclick="gotoComment()">通过issue留言</a><div id="vcomments"></div><script defer="defer">new Valine({el:"#vcomments",appId:"a",appKey:"b",notify:!1,verify:!1,avatar:"robohash",placeholder:"不填邮箱，网址, 也能收到回复哦♪(^∇^*)\n当然也不一定会回复-_-",path:getRealPath()})</script><script defer="defer">
   function gotoComment() {
    location.href = `https://github.com/hellflame/hellflame.github.io/issues/new?title=关于%0A“Pypi%20%E4%BD%BF%E7%94%A8”&body=%23%23%23%20[原文地址](https://hellflame.github.io/2017/04/15/pypi-in-use/)%0A%0A%23%23%23%20想说的话(问题/支持/异议)%20%20%0A%0A${document.getElementById('veditor').value}`
   }
   document.onreadystatechange = (e) => {
     if(document.readyState === 'complete') {
      setTimeout(() => {
        const target = document.getElementsByClassName("vsubmit vbtn")[0]
        target.outerHTML = target.outerHTML
        setTimeout(() => {
          document.getElementsByClassName("vsubmit vbtn")[0].addEventListener('click', gotoComment)
          console.log("event replaced")
        }, 1000)
        document.getElementsByClassName("power txt-right")[0].innerHTML = "Once powered by Valine"
      }, 1000)
     }
   }
 </script></div><footer><p class="site-info"> 博客已萌萌哒运行<span id="time-to-now"></span><span class="my-face">(●'◡'●)ﾉ♥</span><br> Theme - <a target="_blank" href="https://github.com/dongyuanxin/theme-bmw">BMW</a> | Made With 💗 | Powered by GodBMW & hellflame<br></p></footer><script src="/js/footer.js"></script><script>updateUptime(2016,3,27)</script><div class="back-to-top hidden"><span><i class="iconfont icon-60"></i><span></span> %</span></div><script src="/js/component/back-to-top.js"></script></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" async></script><script src="/js/mathjax.js"></script><script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.6/dist/jquery.fancybox.min.js" async></script><script async src="/js/fancybox.js"></script></body></html>